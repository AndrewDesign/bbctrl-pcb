Version 4
SHEET 1 2268 1624
WIRE -816 -48 -848 -48
WIRE -672 -48 -720 -48
WIRE -528 -48 -672 -48
WIRE -368 -48 -528 -48
WIRE -160 -48 -368 -48
WIRE -48 -48 -160 -48
WIRE -672 -16 -672 -48
WIRE -528 -16 -528 -48
WIRE -160 -16 -160 -48
WIRE -736 64 -736 0
WIRE -672 64 -672 48
WIRE -672 64 -736 64
WIRE -368 96 -368 -48
WIRE -848 112 -848 -48
WIRE -624 112 -672 112
WIRE -528 112 -528 64
WIRE -528 112 -576 112
WIRE -416 112 -528 112
WIRE -48 112 -48 -48
WIRE -624 128 -624 112
WIRE -272 128 -304 128
WIRE -160 128 -160 64
WIRE -160 128 -192 128
WIRE -112 128 -160 128
WIRE -96 128 -112 128
WIRE -416 144 -448 144
WIRE -368 176 -368 160
WIRE -672 208 -672 192
WIRE -624 208 -624 176
WIRE -624 208 -672 208
WIRE -576 208 -576 192
WIRE -576 208 -624 208
WIRE -448 208 -448 144
WIRE -736 224 -736 64
WIRE -624 224 -624 208
WIRE -528 224 -528 112
WIRE -448 256 -448 208
WIRE -400 256 -448 256
WIRE -160 256 -320 256
WIRE -48 256 -48 208
WIRE -48 256 -160 256
WIRE -160 272 -160 256
WIRE -528 288 -528 224
WIRE -448 288 -448 256
WIRE -48 288 -48 256
WIRE -848 384 -848 192
WIRE -736 384 -736 304
WIRE -736 384 -848 384
WIRE -528 384 -528 352
WIRE -528 384 -736 384
WIRE -448 384 -448 368
WIRE -448 384 -528 384
WIRE -160 384 -160 352
WIRE -160 384 -448 384
WIRE -48 384 -48 352
WIRE -48 384 -160 384
WIRE -848 400 -848 384
FLAG -848 400 0
FLAG -160 256 Vs
FLAG -112 128 gate
FLAG -528 224 ref
FLAG -368 176 0
FLAG -448 208 comp
FLAG -624 224 0
SYMBOL voltage -848 96 R0
WINDOW 3 40 45 Left 2
WINDOW 123 0 0 Left 2
SYMATTR Value 28
SYMATTR SpiceLine Rser=.02
SYMATTR InstName V1
SYMBOL res -752 208 R0
SYMATTR InstName R1
SYMATTR Value 1k
SYMATTR SpiceLine tol=1 pwr=.125
SYMBOL polcap -64 288 R0
WINDOW 3 24 56 Left 2
SYMATTR Value 7800µ
SYMATTR InstName CL
SYMATTR SpiceLine V=35 Irms=3.67 Rser=0.03 Lser=0
SYMATTR Description Capacitor
SYMATTR Type cap
SYMBOL res -176 256 R0
SYMATTR InstName RL
SYMATTR Value 24
SYMBOL zener -656 48 R180
WINDOW 0 24 64 Left 2
WINDOW 3 6 67 Right 2
SYMATTR InstName D1
SYMATTR Value BZX84C12L
SYMBOL pmos -816 0 R270
WINDOW 0 -14 29 VRight 2
WINDOW 3 69 -28 VRight 2
SYMATTR InstName U1
SYMATTR Value IPD90P04P4L-04_L0
SYMATTR Prefix X
SYMBOL pmos -96 208 M180
WINDOW 3 68 178 VLeft 2
WINDOW 0 -28 46 Left 2
SYMATTR Value IPD90P04P4L-04_L0
SYMATTR InstName U3
SYMATTR Prefix X
SYMBOL cap -544 288 R0
SYMATTR InstName C1
SYMATTR Value 1µ
SYMBOL res -544 -32 R0
SYMATTR InstName R2
SYMATTR Value 1meg
SYMBOL res -176 -32 R0
SYMATTR InstName R6
SYMATTR Value 20k
SYMBOL res -176 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 49k9
SYMBOL LM293 -368 144 R0
WINDOW 0 38 33 Bottom 2
WINDOW 3 45 -71 Top 2
SYMATTR InstName U2
SYMBOL sw -576 208 M180
WINDOW 3 42 57 Invisible 2
WINDOW 0 -12 113 Left 2
SYMATTR Value OURSW
SYMATTR InstName S1
SYMBOL voltage -672 96 R0
WINDOW 3 -61 -8 Invisible 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 0 -18 1 Left 2
SYMATTR Value PULSE(0 5 0 10n 10n .5 1 4)
SYMATTR InstName V2
SYMBOL res -304 240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 20k
SYMBOL res -464 272 R0
SYMATTR InstName R4
SYMATTR Value 5k9
TEXT -1056 408 Left 2 !.tran 1.6 startup
TEXT -1056 448 Left 2 !.lib OptiMOS-P2_40V.lib
TEXT -1056 488 Left 2 !.model OURSW SW(ROn=.01 Roff=10Meg Vt=3 Vh=0)
